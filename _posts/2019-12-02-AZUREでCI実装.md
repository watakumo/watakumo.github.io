---
title: AZUREでCI実装
tags: [azure, continuous integration, devOps]
style: fill
color: secondary
description: AZUREでCI実装してみました。
---

![](https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcQIiXwxXrmPszqfzsPNBgO5twLdluqlv6J3eeFzlwxhQaxa95xi)

AZUREが面白いと聞いていたので、やってみました。

下記の内容を参考してAzureでウェブサーバを立ち上げます。



# やったこと

## Azure App ServiceをLocalbから使ってみよう

とにかくCIがやりたい！！！

結局やりたいのはローカルでもリモートからでもGitHubからでも同じであるはず。

ハードルが低いローカルからやってみました。

<https://docs.microsoft.com/ja-jp/azure/app-service/containers/quickstart-php>

<https://docs.microsoft.com/ja-jp/azure/app-service/deploy-local-git?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json>

quickstartとして、紹介している方法です。

これは結果もの
<http://azure-local.azurewebsites.net/>

## Azure App ServiceをgitHubから使ってみよう

元々やってみたかったのは、gitHubのソースをAzureで起動させることでした。

<https://docs.microsoft.com/ja-jp/azure/app-service/deploy-continuous-deployment?toc=%2fazure%2fapp-service%2fcontainers%2ftoc.json>

ですが、無料の体験アカウントには利用できないようです。

Composerとかのextensionメニューが非活性化ですね…。

それにgitHubのレポジトリからCIのさせたい場合は、

.deploymentファイルが必要だそうです。

普通にHTMLのプロジェクトを連動させてみます。

元はここ
<https://github.com/watakumo/line_markup_clone>

AZUREで起動しています。
<https://normal-web-app.azurewebsites.net/>

## DevOpsでやってみよう！

ビルドのやり方がPiPeLineとこの立派なDevOpsサイトページが

作られたところ以外は、Azure App Serviceと差はなさそうですね。

<https://dev.azure.com/watakumo/devops-ci-line-testd>

Azure App ServiceをgitHubと連動した時と同じプロジェクトを起動

<https://devops-ci-line-test.azurewebsites.net/>

# AZUREの感想

- 会員登録の時、色々聞かれてめんどくさい

- 加入時に無料クレジットをもらって、一年間の無料である程度は使える

- メニューがAWSと比べるとかなり分かりやすい　（AWSってなぜそこまで複雑だったのか）

- DevOpsのプロジェクトを別途で管理できるようです。

- DevOpsサービスのデプロイが普通のApp Serviceより若干遅い気がいます。

# DevOps、CI/CDについての考え

DevOpsって、確か開発と運営を一緒にするという意味で、

DevOpsのプロジェクトが別途でいるのは、そういう開発のやり方をしている

会社やプロジェクトがあるからですね。これは特に問題なし。

それから

CI／CDと呼ばれるもど...。

<https://www.redhat.com/ja/topics/devops/what-is-ci-cd>

多分自分ではやってませんでしたが、

Jenkinsのような、ビルド、テスト、デプロイ自動化のことですね。

マスタにマージして、サーバに反映することを自動でしてくれるなんて、

確かに楽ですね。

一人のローカル開発ではいいところはあまり見えませんが

これはマージされる回数が多くなるほど確かに便利です。

# Azure ci vs Jenkins

ええっ...。

それじゃAzureでCI環境構築した限りJenkinsはいらない？？？

<https://azure.microsoft.com/en-us/solutions/architecture/java-cicd-using-jenkins-and-azure-web-apps/>

ケースによって異なると思いますが、Jenkinsのいいことろを

CI/CD以外で分かってからの言葉ですね...。

そこは次の機会で...。
